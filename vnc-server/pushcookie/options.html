<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>cookie推送工具配置</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/vendor/layui/css/layui.css" media="all">
</head>

<body>

  <div class="layui-main">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;text-align:center;">
      <legend>cookie推送配置</legend>
    </fieldset>

    <form class="layui-form" action="" lay-filter="configForm" id="configForm">
      <div class="layui-form-item">
        <label class="layui-form-label">推送链接</label>
        <div class="layui-input-block">
          <input type="text" name="url" lay-verify="url" autocomplete="off" placeholder="请输入服务器地址" class="layui-input"
            lay-verType="tips">
        </div>
      </div>

      <div class="layui-form-item">
        <label class="layui-form-label">请求方法</label>
        <div class="layui-input-block">
          <select name="method">
            <option value="GET">GET</option>
            <option value="POST" selected>POST</option>
            <option value="PUT">PUT</option>
            <option value="DELETE">DELETE</option>
            <option value="PATCH">PATCH</option>
          </select>
        </div>
      </div>

      <div class="layui-form-item">
        <label class="layui-form-label">推送字段名</label>
        <div class="layui-input-block">
          <input type="text" name="fieldName" id="fieldName" lay-verify="required" autocomplete="off"
            class="layui-input" value="cookie" lay-verType="tips">
        </div>
      </div>

      <div class="layui-form-item">
        <label class="layui-form-label">存放位置</label>
        <div class="layui-input-block">
          <select name="fieldLocation">
            <option value="body" selected>body</option>
            <option value="url">url</option>
            <option value="header">header</option>
          </select>
        </div>
      </div>

      <div class="layui-form-item">
        <label class="layui-form-label">自动推送</label>
        <div class="layui-input-inline">
          <input type="checkbox" name="isAutoPush" lay-skin="switch" lay-filter="isAutoPush" lay-text="开启|关闭">
        </div>
        <div class="layui-form-mid layui-word-aux">开启后将在cookie发生改变时自动推送</div>
      </div>

      <div class="layui-hide" id='autoPushConfigView'>
        <div class="layui-form-item">
          <label class="layui-form-label">监控URL</label>
          <div class="layui-input-block">
            <input type="text" id="listenerUrl" name="listenerUrl" lay-reqText="监控的URL不能为空" autocomplete="off"
              placeholder="请输入需要监控的URL" class="layui-input" lay-verType="tips">
          </div>
        </div>

        <div class="layui-form-item" style="white-space:nowrap!important;">
          <label class="layui-form-label">监控Cookie</label>
          <div class="layui-input-block" id="cookieNames"></div>
        </div>

        <div class="layui-form-item" style="white-space:nowrap!important;">
          <label class="layui-form-label">最短推送间隔</label>
          <div class="layui-input-inline">
            <input type="number" id="minPushInterval" name="minPushInterval" lay-reqText="推送间隔不能为空" autocomplete="off"
              placeholder="请输入推送间隔时间" class="layui-input" lay-verType="tips" value="300">
          </div>
          <div class="layui-form-mid">秒</div>
          <div class="layui-form-mid layui-word-aux">用于防止短时间内进行无意义的重复推送</div>
        </div>
      </div>
      <div class="layui-form-item" style="text-align:center;">
        <div class="layui-input-block">
          <button type="button" class="layui-btn" lay-submit lay-filter="save" id="saveConfig">保存</button>
        </div>
      </div>
    </form>
  </div>
  <script src="/vendor/layui/layui.js" charset="utf-8"></script>
  <script src="/vendor/notify/notify.js" charset="utf-8"></script>
  <script src="/vendor/xm-select/xm-select.js" charset="utf-8"></script>
  <script src="/js/options.js" charset="utf-8"></script>

</body>

</html>